# Development build
build:
    cmake .
    make -j$(nproc)

# Clean build
clean:
    rm -rf build/
    mkdir build && cd build
    cmake ..
    make -j$(nproc)

# Test the library
test: build
    ./test_metrics || echo "Run your tests here"

# Rebuild the whole nix config
nix-rebuild:
    cd ~/nix-config && run0 nixos-rebuild switch --flake .
